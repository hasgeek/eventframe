{% extends "layout.html.jinja2" %}
{% from "baseframe/forms.html.jinja2" import renderform, ajaxform, widgetscripts %}
{% from "macros.html.jinja2" import edit_tabs %}

{% block headline %}{% endblock %}
{% block content %}
  {{ edit_tabs(tabs, g.website, g.folder, form) }}
  {{ renderform(form=form, formid=formid, submit=submit, message=message, cancel_url=cancel_url, multipart=multipart) }}
{% endblock %}

{% block footerscripts %}
  <script type="text/javascript">
    $(function() {
      {{ widgetscripts(form, script=false) }};
      // Reset disabled state if page was reloaded (TODO: does this really get called?)
      $('#{{ formid }} .submit-disabled').prop('disabled', false);
    });
  </script>
  {{ ajaxform(formid=formid, request=request, force=ajax) }}
{% endblock %}
